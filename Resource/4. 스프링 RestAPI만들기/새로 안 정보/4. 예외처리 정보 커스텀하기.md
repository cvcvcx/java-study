---
ë‚ ì§œ: 2024-01-05
ì£¼ì œ: Spring Boot REST API
ì„¤ëª…: í•¸ë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•´ì„œ ì˜ˆì™¸ì²˜ë¦¬ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤
---
> [!NOTE] ì‚¬ìš© ì‹œê¸°
> ì»¨íŠ¸ë¡¤ëŸ¬ë³„ë¡œ ì¼ì¼íˆ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆì§€ë§Œ, 
> í•¸ë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•´ì„œ ì¼ê´„ì ìœ¼ë¡œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ, ì–´ë–¤ ì •ë³´ë¥¼ ë„˜ê¸¸ì§€ ì„ íƒí•´ì„œ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.
> ì˜ˆì™¸ ì •ë³´ ê°ì²´ì™€ í•¸ë“¤ëŸ¬ë¥¼ ë§Œë“ ë‹¤

> [!tip] ì‚¬ìš©ë°©ë²•
> ê¸°ë³¸ì ìœ¼ë¡œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ, ìŠ¤í”„ë§ì—ì„œ ê¸°ë³¸ ì œê³µí•˜ëŠ” ì—ëŸ¬ ì²˜ë¦¬ í•¸ë“¤ëŸ¬ê°€ ì¡´ì¬í•œë‹¤.
> ê·¸ í•¸ë“¤ëŸ¬ë¥¼ í™•ì¥í•´ì„œ, ë‚´ê°€ ì „ë‹¬í•˜ê³  ì‹¶ì€ ì—ëŸ¬ ê°ì²´ë¥¼ ë¦¬í„´í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

# ğŸš€ êµ¬ì²´ì ì¸ ì‚¬ìš©ë°©ë²•
 ```java 
 //ErrorDetails
 //ì „ë‹¬í•˜ê³  ì‹¶ì€ ë°ì´í„° í˜•ì‹ì„ ì§€ì •í•œ í´ë˜ìŠ¤
 @Getter  
@AllArgsConstructor  
public class ErrorDetails {  
    private LocalDateTime timestamp;  
    private String message;  
    private String details;  
}
 ```

```java
//CustomizedResponseEntityExceptionHandler
  
import org.springframework.http.HttpStatus;  
import org.springframework.http.ResponseEntity;  
import org.springframework.web.bind.annotation.ControllerAdvice;  
import org.springframework.web.bind.annotation.ExceptionHandler;  
import org.springframework.web.context.request.WebRequest;  
import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;  
  
import java.time.LocalDate;  
import java.time.LocalDateTime;  
//ì—ëŸ¬ì²˜ë¦¬ í•¸ë“¤ëŸ¬ì— ë¶™ì´ëŠ” ì–´ë…¸í…Œì´ì…˜ - ìŠ¤í”„ë§ì—ì„œ ì¸ì‹í•˜ê²Œë” í•œë‹¤
@ControllerAdvice  
public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {  
  //ëª¨ë“  ì¢…ë¥˜ì˜ Exceptionì´ ë°œìƒí–ˆì„ ë•Œ, ì•„ë˜ì™€ ê°™ì´ ìƒˆë¡œ ì—ëŸ¬ë¥¼ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•œë‹¤.
    @ExceptionHandler(Exception.class)  
    public final ResponseEntity<Object> handleAllExceptions(Exception ex, WebRequest request){  
        ErrorDetails errorDetails =  
                new ErrorDetails(LocalDateTime.now(),  
                        ex.getMessage(),  
                        request.getDescription(false));  
                        //ì—ëŸ¬ ì½”ë“œë¥¼ ì§€ì •í•œë‹¤. ì´ ì—ëŸ¬ëŠ” ì˜ˆìƒì¹˜ëª»í•œ ì„œë²„ ì—ëŸ¬ì´ê¸°ë•Œë¬¸ì— 500
        return new ResponseEntity<>(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);  
    }  
    //ìœ ì €ê°€ ì—†ì„ ê²½ìš° ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•œë‹¤
@ExceptionHandler(UserNotFoundException.class)  
public final ResponseEntity<Object> handleUserNotFoundExceptions(Exception ex, WebRequest request){  
    ErrorDetails errorDetails =  
            new ErrorDetails(LocalDateTime.now(),  
                    ex.getMessage(),  
                    request.getDescription(false));  
                    //ì‘ë‹µ ì½”ë“œë¥¼ 404ë¡œ ë°”ê¿” ì „ë‹¬í•œë‹¤.
    return new ResponseEntity<>(errorDetails, HttpStatus.NOT_FOUND);  
}
  
}
```

## ğŸš€ ì‘ë‹µê²°ê³¼
![](https://i.imgur.com/CQDQSWw.png)
Bodyë¶€ë¶„ì„ ë³´ë©´ ì œëŒ€ë¡œ ê²°ê³¼ê°’ì´ ì»¤ìŠ¤í…€í•œëŒ€ë¡œ ë°˜í™˜ë˜ê³ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

> [!warning] ì£¼ì˜ ì‚¬í•­

