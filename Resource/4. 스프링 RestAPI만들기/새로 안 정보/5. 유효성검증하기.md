---
ë‚ ì§œ: 2024-01-05
ì£¼ì œ: Spring Boot REST API
ì„¤ëª…: ì„œë²„ ìš”ì²­ ê°ì²´ì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•œë‹¤
---
> [!NOTE] ì‚¬ìš© ì‹œê¸°
>  - ì‚¬ìš©ìì˜ ìš”ì²­ì´ ì´ìƒí•˜ê²Œ ì˜¬ ë•Œ, 
>    ê·¸ ìš”ì²­ì´ ì œëŒ€ë¡œ ëœ ìš”ì²­ì¸ì§€ ì•„ë‹Œì§€ íŒë³„í•´ì„œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼í•œë‹¤.


> [!tip] ì‚¬ìš©ë°©ë²•
> - spring-boot-starter-validationë¥¼ build.gradleì— ì¶”ê°€í•˜ê³ 
> - @Vaild ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ìš”ì²­ì„ ê²€ì¦í•œë‹¤.
> - @Size @Past ì™€ ê°™ì€ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ê²€ì¦ ê¸°ì¤€ì„ ì •í•  ìˆ˜ ìˆë‹¤.
> - ë˜í•œ, ì´ì „ì— ë§Œë“  ì˜ˆì™¸ì²˜ë¦¬ ì •ë³´ í•¸ë“¤ëŸ¬([[4. ì˜ˆì™¸ì²˜ë¦¬ ì •ë³´ ì»¤ìŠ¤í…€í•˜ê¸°]]ì°¸ì¡°)ë¥¼ í†µí•´ 
>   êµ¬ì²´ì ì¸ ë©”ì„¸ì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ë„˜ê²¨ì„œ, ì¡°ê±´ì„ ì•Œë ¤ì¤„ ìˆ˜ ìˆë‹¤.


# ğŸš€ êµ¬ì²´ì ì¸ ì‚¬ìš©ë°©ë²•
### 1. spring-boot-starter-validation ì¶”ê°€
 ```gradle
 // build.gradle
 implementation 'org.springframework.boot:spring-boot-starter-validation'
 ```

### 2. ë§¤ê°œë³€ìˆ˜ì— @Valid ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€
```java
@PostMapping("/users")  
public ResponseEntity<User> createUser(@Valid @RequestBody User user){  
    User save = service.save(user);  
    URI location =  
            ServletUriComponentsBuilder.fromCurrentRequest()  
                                         .path("/{id}")  
                                         .buildAndExpand(save.getId())  
                                         .toUri();  
    return ResponseEntity.created(location).build();  
}
```

### 3. Userê°ì²´ì— ì¡°ê±´ ê¸°ì¤€ ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€
```java
@Getter  
@Setter  
@NoArgsConstructor  
@AllArgsConstructor  
@ToString  
public class User {  
    private Integer id;  
    //ìµœì†Œ 2ìì´ìƒì€ ì…ë ¥í•´ì•¼í•œë‹¤.
    @Size(min = 2)  
    private String name;  
    // í˜„ì¬ì¼ ê¸°ì¤€ ê³¼ê±°ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ë‹¤
    @Past  
    private LocalDate birthDate;  
}
```

> [!warning] ì£¼ì˜ ì‚¬í•­

