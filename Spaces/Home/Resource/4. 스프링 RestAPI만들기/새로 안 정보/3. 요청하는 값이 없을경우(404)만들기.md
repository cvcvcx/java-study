---
날짜: 2024-01-05
주제: Spring Boot REST API
설명: 요청하는 값이 서버에 없을 경우, 오류 응답코드를 제대로 보낸다
---
> [!NOTE] 사용 시기
> 서버에 유저가 요청하는 값이 없을 경우, 404응답코드와 함께 어떤 값이 없는지 알려줘야한다.

> [!tip] 사용방법
> 그 처리방법은 RuntimeException을 발생시키는 것이다.
> 특정 User를 요청했을 때, User가  존재하지 않는 경우를 가정하여 사용방법을 설명한다 

# 🚀 구체적인 사용방법
 ```java 
 **UserDaoService**
 public User findById(Integer id) {  
    Predicate<? super User> predicate = user -> user.getId() == id;  
    //get이 있던 자리를 orElse를 넣어 값이 없을경우 null을 반환하게 한다
    return users.stream().filter(predicate).findFirst().orElse(null);  
}
 ```

```java
**UserController**
@GetMapping("/users/{id}")  
public User retrieveUserById(@PathVariable("id") int id){  
    User user = service.findById(id);  
    //user가 null인경우-id에 해당하는 유저가 없을경우
    if(user==null){  
    //우리가 생성한 새로운 예외를 던진다
        throw new UserNotFoundException("id : "+id);  
    }    
    return user;  
}
```

```java
**UserNotFoundException**
import org.springframework.http.HttpStatus;  
import org.springframework.web.bind.annotation.ResponseStatus;  
//원하는 응답코드를 이곳에서 지정해야, 응답이 201로 반환되지 않고 제대로 404를 띄운다
@ResponseStatus(code = HttpStatus.NOT_FOUND)  
public class UserNotFoundException extends RuntimeException {  
//RuntimeException이 발생했을 때, 위 컨트롤러에서 넘긴 스트링 값을 기반으로 에러메세지를 작성한다
    public UserNotFoundException(String s) {  
        super(s);  
    }  
}
```

> [!warning] 주의 사항

