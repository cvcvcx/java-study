> 스프링 JDBC는 JDBC를 발전시켜서 좀 더 적은 코드로 데이터베이스와 통신할 수 있게 바꾸었다.

## 🚀 Spring JDBC 이전의 통신
기존에는 JDBC로 쿼리를 작성하기 위해서 코드를 길게 작성해야했다.
예를 들면 아래와 같이 작성해야했다.

``` java
import java.sql.*;

public class JdbcExample {
    public static void main(String[] args) {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            String url = "jdbc:mysql://localhost:3306/your_database";
            String username = "your_username";
            String password = "your_password";
            Connection connection = DriverManager.getConnection(url, username, password);

            Statement statement = connection.createStatement();
            ResultSet resultSet = statement.executeQuery("SELECT * FROM your_table");

            while (resultSet.next()) {
                int id = resultSet.getInt("id");
                String name = resultSet.getString("name");
                System.out.println("ID: " + id + ", Name: " + name);
            }

            resultSet.close();
            statement.close();
            connection.close();
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
        }
    }
}

```
1. 드라이버를 가져오고
2. 데이터베이스의 유저명과 패스워드를 통해 데이터베이스의 연결을 가져온다음
3. 커넥션을 이용해 `Statement를` 가져오고
4. 쿼리를 작성해서 그 결과를 `resultSet`에 저장한다음
5. 그 `resultSet`을 반복문을 돌려서 원하는 데이터를 가져오면
6. `resultSet`부터 `connection` 까지 닫아줘야했다.

## 🧀 SpringDateJDBC의 등장
위와 같은 과정이 아래정도로 줄어든다
```java
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Repository;

@Repository
public class YourRepository {

    private final JdbcTemplate jdbcTemplate;

    @Autowired
    public YourRepository(JdbcTemplate jdbcTemplate) {
        this.jdbcTemplate = jdbcTemplate;
    }

    public void fetchDataFromDatabase() {
        String sql = "SELECT * FROM your_table";
        jdbcTemplate.query(sql, (rs, rowNum) -> {
            int id = rs.getInt("id");
            String name = rs.getString("name");
            // 추가 필드 처리
            System.out.println("ID: " + id + ", Name: " + name);
            return null; // 사용하지 않는 경우에는 null 반환
        });
    }
}

```

> 쿼리만 작성하고, 그 쿼리의 결과인 ResultSet을 처리할 익명함수를 작성하는 것으로 쿼리의 결과를 받아볼 수 있다.

위 코드에서 바로 객체로 받고싶다면, 익명함수 대신`BeanPropertyRowMapper`를 사용하는 것이 좋다.

### 📖 BeanPropertyRowMapper(클래스)
- 매개변수에 클래스를 전달하는 것으로 원하는 클래스의 결과값으로 반환받을 수 있다.
- 이때, 클래스에 `Setter`가 없으면, 모든 값에 null 또는 기본값이 반환된다.

