# 📙의존성
> 하나의 클래스에 다른 인터페이스가 필요할 경우, 그것을 클래스가 인터페이스에 의존하고 있다고 말한다.

## 📚 의존성 주입
필요한 인터페이스를 생성자 또는 setter를 통해 설정해주는 것을 의존성 주입이라고 말한다.

## 💬 지금까지 의존성을 주입한 방법
- 인터페이스를 사용한 객체를 직접 만들어서, 생성자를 통해서 직접 주입했다.
- 지금은 괜찮지만, 나중에 이런 의존성이 수백~천개까지 늘어난다면 관리하기 쉬울까?
- 스프링이 이런 의존성을 대신 주입하고, 관리해 줄 수 있다.

# ⭐ 스프링의 시작
![](https://i.imgur.com/1SEBlrK.png)
- 위와 같이 `Spring`에서 관리하는 `name`이라는 객체를 만들것이다.

## 📖 스프링을 설정하는 방법
- `Spring Context`를 실행시키고
- 설정클래스를 통해 스프링이 무엇을 설정할지를 정한다.

### 📗 설정 클래스 만들기
```java
//HelloWordConfiguration.java
  
@Configuration  
public class HelloWorldConfiguration {  
}
```

- `@Configuration`어노테이션을 붙임으로써 설정 클래스로 설정한다.
``` java
public class App02HelloWorldSpring {  
    public static void main(String[] args) {  
    //아래와 같이 컨텍스트 변수를 선언한다.
        ApplicationContext context =  
            new AnnotationConfigApplicationContext(HelloWorldConfiguration.class);  
    }  
}
```
- `main`에서 `context`를 선언하고, 그 객체의 인스턴스 인자에 위에서 만든 설정 클래스를 넣는다.
- 위와 같이 작성해서, 컨텍스트에 어떤 클래스가 들어갈지 설정하고, 설정한 컨텍스트를 스프링 프로젝트에서 사용할 수 있다.

## 🫘 Bean의 생성
- Spring에서 객체를 등록하려면, 클래스 또는 함수를 빈으로 등록해야한다.
```java
@Bean  
public String name(){  
    return "조창훈";  
}
```
- 위와 같이 등록한다
- 그럼 스프링 콘텍스트에는 String타입의 name이라는 이름을 가진 객체가 등록되게 된다.
- 이제 스프링 컨텍스트에서 이름을 통해 이 객체를 가져올 수 있다.
```java
public class App02HelloWorldSpring {  
    public static void main(String[] args) {  
        ApplicationContext context =  
            new AnnotationConfigApplicationContext(HelloWorldConfiguration.class);  
        System.out.println(context.getBean("name"));  
    }  
}
```
- 자세히보면 name이라는 객체에 대한 의존성이 없는 것을 알 수 있다.
- 컨텍스트만 불러온다면, context.getBean을 통해 항상 같은 객체를 가져올 수 있다.

## ❓의문점
- 코드를 재사용할 때 편하기 위해서 스프링을 사용한다고 했는데, 지금 이걸 보면 `name`이라는 부분은 항상 바뀌어야 한다.
- 즉, 같은 타입으로 다른 객체를 불러오고자 할 때, `name`이라는 부분은 항상 바뀌어야 하는데... 이게 좋은건가
- `인터페이스`랑 같이, 저 부분만 바뀌면 나머지 코드는 똑같이 사용할 수 있긴 할거같다.


