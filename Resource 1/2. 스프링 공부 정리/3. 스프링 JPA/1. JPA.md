>  JPA를 사용하면 쿼리문을 작성하지 않고도 데이터베이스와의 통신이 가능하다.

# 🚀 SPRING JDBC의 문제점
- 서비스가 많아지고, 테이블이 많아지면 그만큼 필요한 쿼리문의 숫자도 늘어나게 되는데, 그 쿼리문을 전부 `String`으로 선언하고, 각자 메서드에서 그 쿼리문을 가져와서 써야한다.
- 그걸 해결하기 위해서 `SpringJPA`가 등장한다.

## 📚 Jpa의 등장

```java
@Repository  
public class CourseJpaRepository {  
//EntityManager에 붙이는 Autowired 역할의 어노테이션
//EntityManager는 실제로 데이터베이스에 쿼리를 보내는 역할을 한다.
//DB의 Username이나 password, driver는 전부 
//resources의 applicationproperties에 선언해놓아야한다.
//지금은 H2데이터베이스이므로, 테스트db에 username은 기본username을 사용한다.
    @PersistenceContext  
    private EntityManager em;  
    public void insert(Course course){  
        em.merge(course);  
    }  
    public Course findById(long id){  
  
        return em.find(Course.class,id);  
    }  
    public void deleteById(long id){  
        Course course = findById(id);  
        em.remove(course);  
    }  
}
```
- 위와같이 `EntityManager`라는 인터페이스를 이용하여, 데이터베이스에 접근하고, 쿼리를 날리고 결과를 받아 리턴할 수 있다.
- `em.find`와 같은 경우에는  `BeanPropertiesRowMapper`와 같이 `ResultMap`을 클래스에 해당하는 객체로 만들어주는 역할이 들어가 있다.
- 위와같이 알맞은 함수만 사용한다면 알아서 쿼리문이 작성되어 데이터베이스와 통신할 수 있다.

