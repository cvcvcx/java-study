---
ë‚ ì§œ: 2024-01-05
ì£¼ì œ: Spring Boot REST API
ì„¤ëª…: ìš”ì²­í•˜ëŠ” ê°’ì´ ì„œë²„ì— ì—†ì„ ê²½ìš°, ì˜¤ë¥˜ ì‘ë‹µì½”ë“œë¥¼ ì œëŒ€ë¡œ ë³´ë‚¸ë‹¤
---
> [!NOTE] ì‚¬ìš© ì‹œê¸°
> ì„œë²„ì— ìœ ì €ê°€ ìš”ì²­í•˜ëŠ” ê°’ì´ ì—†ì„ ê²½ìš°, 404ì‘ë‹µì½”ë“œì™€ í•¨ê»˜ ì–´ë–¤ ê°’ì´ ì—†ëŠ”ì§€ ì•Œë ¤ì¤˜ì•¼í•œë‹¤.

> [!tip] ì‚¬ìš©ë°©ë²•
> ê·¸ ì²˜ë¦¬ë°©ë²•ì€ RuntimeExceptionì„ ë°œìƒì‹œí‚¤ëŠ” ê²ƒì´ë‹¤.
> íŠ¹ì • Userë¥¼ ìš”ì²­í–ˆì„ ë•Œ, Userê°€  ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ê°€ì •í•˜ì—¬ ì‚¬ìš©ë°©ë²•ì„ ì„¤ëª…í•œë‹¤ 

# ğŸš€ êµ¬ì²´ì ì¸ ì‚¬ìš©ë°©ë²•
 ```java 
 **UserDaoService**
 public User findById(Integer id) {  
    Predicate<? super User> predicate = user -> user.getId() == id;  
    //getì´ ìˆë˜ ìë¦¬ë¥¼ orElseë¥¼ ë„£ì–´ ê°’ì´ ì—†ì„ê²½ìš° nullì„ ë°˜í™˜í•˜ê²Œ í•œë‹¤
    return users.stream().filter(predicate).findFirst().orElse(null);  
}
 ```

```java
**UserController**
@GetMapping("/users/{id}")  
public User retrieveUserById(@PathVariable("id") int id){  
    User user = service.findById(id);  
    //userê°€ nullì¸ê²½ìš°-idì— í•´ë‹¹í•˜ëŠ” ìœ ì €ê°€ ì—†ì„ê²½ìš°
    if(user==null){  
    //ìš°ë¦¬ê°€ ìƒì„±í•œ ìƒˆë¡œìš´ ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤
        throw new UserNotFoundException("id : "+id);  
    }    
    return user;  
}
```

```java
**UserNotFoundException**
import org.springframework.http.HttpStatus;  
import org.springframework.web.bind.annotation.ResponseStatus;  
//ì›í•˜ëŠ” ì‘ë‹µì½”ë“œë¥¼ ì´ê³³ì—ì„œ ì§€ì •í•´ì•¼, ì‘ë‹µì´ 201ë¡œ ë°˜í™˜ë˜ì§€ ì•Šê³  ì œëŒ€ë¡œ 404ë¥¼ ë„ìš´ë‹¤
@ResponseStatus(code = HttpStatus.NOT_FOUND)  
public class UserNotFoundException extends RuntimeException {  
//RuntimeExceptionì´ ë°œìƒí–ˆì„ ë•Œ, ìœ„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë„˜ê¸´ ìŠ¤íŠ¸ë§ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì—ëŸ¬ë©”ì„¸ì§€ë¥¼ ì‘ì„±í•œë‹¤
    public UserNotFoundException(String s) {  
        super(s);  
    }  
}
```

> [!warning] ì£¼ì˜ ì‚¬í•­

